# Sample Hydra Project

This is a sample project generated by `hydra-cli scaffold`. Experiment by modifying `schema.graphql` and the mappings in the `mappings` folder.

## Prerequisites

* Node v14x
* Docker

## Bootstrap
```bash
npm ci

# Start postgres instance
docker-compose up db # add optional -d flag to detach from terminal

# Apply pending migrations
npm run db:migrate

# Apply migrations related to processor's state keeping tables
npm run processor:migrate

# Now you can start processing chain data
npm run processor:start

# The above command will block
# Open separate terminal and launch graphql server to query the processed data
npm run query-node:start
```

## Other commands

```bash
# If you modified schema.graphql:

# 1. Analyze schema.graphql and generate model/server files
npm run codegen

# 2. Analyze database state and create migration to match generated models
npm run db:create-migration

# To (re-)generate type definitions for substrate events and extrinsics, run:
npm run typegen
```

## Configuration

Project's configuration is driven by environment variables, defined in `.env`,
and `manifest.yml`. For more details see https://docs.subsquid.io.
